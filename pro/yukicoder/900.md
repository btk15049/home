# yukicoder no900

## 解説

クエリ平方分割をします．
`クエリ 1,...,クエリ Q` を K 個のブロックにわけます.
`{クエリ 1,...,クエリ b}, {クエリ b+1,..,クエリ 2b},...,{...クエリ Q}`のような感じで分割します．

クエリを最初から見ていきます．3 種類の操作をします.

1. 1 のクエリを引いたとき : （まだ）何もしない
2. 2 のクエリを引いたとき:

   - 同ブロックでかつ既に見た 1 のクエリのうち，自身に影響するもののコスト
   - 3 の操作によってその頂点に足されているコスト

   の合計を計算して出力

3. 各ブロックの終了時: ブロック内の 1 のクエリをまとめて頂点に足していきます

   - 説明が面倒になったので計算量から察してください

## 雑証明

正しく計算できるのはそれはそう

## 計算量

1. なし
2. `O(Q/K)`が Q 回
3. `O(N)` が`K`回

K 個のブロックに分けるとすると，`O(NK + NQ/K)`
`K=Q^0.5` とすると`O(NQ^0.5)`
